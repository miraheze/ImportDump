{
	"name": "ImportDump",
	"author": "Universal Omega",
	"url": "https://github.com/miraheze/ImportDump",
	"descriptionmsg": "importdump-desc",
	"namemsg": "importdump-extensionname",
	"license-name": "GPL-3.0-or-later",
	"type": "specialpage",
	"requires": {
		"MediaWiki": ">= 1.37.0"
	},
	"MessagesDirs": {
		"ImportDump": [
			"i18n"
		]
	},
	"ExtensionMessagesFiles": {
		"ImportDumpAliases": "ImportDumpAliases.php"
	},
	"AutoloadNamespaces": {
		"Miraheze\\ImportDump\\": "includes/"
	},
	"GroupPermissions": {
		"user": {
			"requestimport": true
		}
	},
	"AvailableRights": [
		"handle-import-requests",
		"requestimport",
		"view-private-import-requests"
	],
	"LogActionsHandlers": {
		"/*": "LogFormatter"
	},
	"LogHeaders": {
		"importrequest": "importrequest-log-header"
	},
	"LogNames": {
		"importrequest": "importrequest-log-name"
	},
	"LogTypes": [
		"importrequest"
	],
	"SpecialPages": {
		"ImportDumpRequestQueue": {
			"class": "Miraheze\\ImportDump\\SpecialImportDumpRequestQueue",
			"services": [
				"DBLoadBalancerFactory",
				"ImportDumpRequestManager",
				"PermissionManager",
				"UserFactory"
			]
		},
		"RequestImportDump": {
			"class": "Miraheze\\ImportDump\\SpecialRequestImportDump",
			"services": [
				"DBLoadBalancerFactory"
			]
		}
	},
	"Hooks": {
		"LoadExtensionSchemaUpdates": {
			"handler": "Installer"
		}
	},
	"HookHandlers": {
		"Installer": {
			"class": "Miraheze\\ImportDump\\Hooks"
		}
	},
	"ResourceModules": {
		"ext.importdump.oouiform": {
			"scripts": "ext.importdump.oouiform.ooui.js",
			"styles": "ext.importdump.oouiform.ooui.less",
			"targets": [ "desktop", "mobile" ],
			"dependencies": [
				"mediawiki.storage",
				"oojs-ui-widgets"
			]
		}
	},
	"ResourceFileModulePaths": {
		"localBasePath": "modules",
		"remoteExtPath": "ImportDump/modules"
	},
	"config": {
		"ImportDumpCentralWiki": {
			"value": "",
			"description": "If set, only allow users to request import dumps on this wiki."
		},
		"ImportDumpInterwikiMap": {
			"value": [],
			"description": "A mapping of 'domain => interwiki prefix' for multi-level interwiki prefix generation for --username-prefix."
		},
		"ImportDumpScriptCommand": {
			"value": "php {$IP}/maintenance/importDump.php --wiki={wiki} --username-prefix={username-prefix} {file}",
			"description": "Generated maintenance script command to use."
		}
	},
	"ConfigRegistry": {
		"ImportDump": "GlobalVarConfig::newInstance"
	},
	"ServiceWiringFiles": [
		"includes/ServiceWiring.php"
	],
	"manifest_version": 2
}
